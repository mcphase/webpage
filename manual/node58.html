<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2025 (Released January 1, 2025) -->
<HTML lang="en">
<HEAD>
<TITLE>example of input file mcdisp.par</TITLE>

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2025">

<LINK REL="STYLESHEET" HREF="manual.css">

<LINK REL="previous" HREF="node57.html">
<LINK REL="next" HREF="node59.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node59.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node56.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node57.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html684"
  HREF="node8.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A> 
<A ID="tex2html686"
  HREF="node180.html">
<IMG WIDTH="43" HEIGHT="24" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A
 HREF="node59.html">Viewing the results of</A>
<B> Up:</B> <A
 HREF="node56.html">mcdisp - the Calculation</A>
<B> Previous:</B> <A
 HREF="node57.html">example of input file</A>
 &nbsp; <B>  <A ID="tex2html685"
  HREF="node8.html">Contents</A></B> 
 &nbsp; <B>  <A ID="tex2html687"
  HREF="node180.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H5><A ID="SECTION000110002000000000000"></A><A ID="2036"></A>
<BR>
example of input file <I CLASS="slanted">mcdisp.par</I>
</H5><SPAN CLASS="SMALL">
</SPAN>
<P>
<SPAN CLASS="SMALL"><SPAN CLASS="FOOTNOTESIZE">
</SPAN></SPAN><PRE>
# Parameter file  mcdisp.par - read by mcdisp version 5.1
#&lt;!--mcdisp.mcdisp.par&gt;
#*********************************************************************
# mcdisp - program to calculate the dispersion of magnetic excitations
# reference: M. Rotter et al. J. Appl. Phys. A74 (2002) 5751
#*********************************************************************
#
# mcdisp calculates the neutron scattering cross section dsigma/dOmegadE' [barn/sr/meV/f.u.]
#           f.u.=crystallogrpaphic unit cell (r1xr2xr3) for inelastic and diffuse scattering
#
# depending on what is kept constant it follows either kf or ki (1/A)
#!kf=3.474
# 
# emin and emax define the energy range in which neutron intensities are calculated
# for full calculation of the dynamical susceptibility (option "-r", inversion of the MF-RPA equation 
# for each point in Q-omega space) the minimum and maximum energy has to be given (energy stepwidth is 
# equal to the parameter epsilon given in the command line after "-r")
#
#!emin=0.1
#!emax=80
#
# optional switches which can be 0 or 1 are
#!calculate_magmoment_oscillation=1  creates mcdisp.qem
#!calculate_spinmoment_oscillation=0  creates mcdisp.qes
#!calculate_orbmoment_oscillation=0  creates mcdisp.qeo
#!calculate_chargedensity_oscillation=1  creates mcdisp.qee
#!calculate_spindensity_oscillation=0  creates mcdisp.qsd
#!calculate_orbmomdensity_oscillation=0  creates mcdisp.qod
#!calculate_phonon_oscillation=0  creates mcdisp.qep
#!calculate_pel_oscillation=0  creates mcdisp.qpe
#
# (optional) number of parallel threads on your machine
#  (if not set program will attempt to determine this automatically)
# nofthreads=2
#
#     out* controls the type of output in user defined columns in files mcdisp.qei,qex,qom,dsigma,dsigma.tot
#!out1=5 
#!out2=6 
#!out3=7 
#!out4=4 
#!out5=12 
#!out6=13 
#!out7=14 
#!out8=8 
#     ... in out*=n the numbers n have the following meaning:
#            0....Qinc[1/A] 
#            1....Qx[1/A]   
#            2....Qy[1/A]   
#            3....Qz[1/A]   
#            4....T[K]      
#            5....Ha[T]     
#            6....Hb[T]     
#            7....Hc[T]     
#            8....|Q|[1/A]  
#            9....hprim  
#            10....kprim  
#            11....lprim  
#            12....h 
#            13....k 
#            14....l 
#            15....Hi[T]   
#            16....Hj[T]   
#            17....Hk[T]   
#            18....Ea[kV/mm] 
#            19....Eb[kV/mm] 
#            20....Ec[kV/mm] 
#            21....Ei[kV/mm] 
#            22....Ej[kV/mm] 
#            23....Ek[kV/mm] 
#            24....s1[GPa] 
#            25....s2[GPa] 
#            26....s3[GPa] 
#            27....s4[GPa] 
#            28....s5[GPa] 
#            29....s6[GPa] 
#
# optional switch outS for control of the output of the magnetic scattering function in results/mcdisp.qei
#! outS=3
# .. valid values are
# 0: not output of Salphabeta
# 1: output Sperpalphabeta(Q,omega) in dipole approximation, with alpha,beta=x,y,z
# 2: output Sperpalphabeta(Q,omega) going beyond dipole approximation (if possible), with alpha,beta=x,y,z
# 3: output Sperpalphabeta(Q,omega) in dipole approximation, with alpha,beta=u,v,w
# 4: output Sperpalphabeta(Q,omega) going beyond dipole approximation (if possible), with alpha,beta=u,v,w
# 5: output Salphabeta(Q,omega) in dipole approximation, with alpha,beta=x,y,z (no output of dip intensity)
# 6: output Salphabeta(Q,omega) in dipole approximation, with alpha,beta=u,v,w (no output of dip intensity)
#
# xyz coordinate refer to y||b, z||(a x b) and x normal to y and z
# uvw coordinates refer to u||Q=k-k', w perpendicular to the scattering plane
#     (as determined by the cross product of subsequent vectors in the input
#     q-vector list) and v perpendicular to u and w, such that uvw form a righthanded system
#
#
# Commands such as the following are used to generate a hkl list (to activate put #! instead of # at beginning of line):
#
# - a Q vector mesh to be mapped in the calculation it can be in Miller indices
#hmin=0 hmax=1 deltah=0.1
#kmin=0 kmax=1 deltak=0.1
#lmin=0 lmax=1 deltal=0.1
#
# or in Qx Qy Qz (1/A) where y||b z||axb and x perpendicular to y and z
#Qxmin=0 Qxmax=1 deltaQx=0.1
#Qymin=0 Qymax=1 deltaQy=0.1
#Qzmin=0 Qzmax=1 deltaQz=0.1
#
# - file(s) containing list of Q vectors with (optional) energies of observed excitations to be fitted
# h k l [E(meV) [statistical_weight  [intensity [fwhm ]]]]
#
# hklfile=file1
# hklfile=file2
# ...
#
# or
# Qx Qy Qz(1/A) [E(meV) [statistical_weight  [intensity [fwhm ]]]]
#
# QxQyQzfile=file1
# QxQyQzfile=file2
# ...
#
#
# - some lines in reciprocal space 
#
#hklline=h1=0 k1=1 l1=0 to hN=1 kN=1 lN=0 Nstp=21
#hklline=h1=0 k1=2 l1=0 to hN=1 kN=1 lN=0 Nstp=21
#
#QxQyQzline=Qx1=0 Qy1=1 Qz1=0 to QxN=1 QyN=1 QzN=0 Nstp=21
#QxQyQzline=Qx1=0 Qy1=2 Qz1=0 to QxN=1 QyN=1 QzN=0 Nstp=21
#
# - some planes in reciprocal space 
#
#hklplane=h0=0 k0=1 l0=0 to hN=1 kN=1 lN=0 Nstp=21 to hM=1 kM=0 lM=3 Mstp=21  
# or
#QxyQzplane=Qx0=0 Qy0=1 Qz0=0 to QxN=1 QyN=1 QzN=0 Nstp=21 to QxM=1 QyM=0 QzM=3 Mstp=21  
# 
#
# - a list of Q vectors with (optional) energies of observed excitations to be fitted
# h k l [E(meV) [statistical_weight  [intensity [fwhm ]]]]
1 0 0 
2 0 0 
3 0 0 
0.1 0 0 
0 0.1 0 
0 0 0.1
</PRE><SPAN CLASS="SMALL"><SPAN CLASS="FOOTNOTESIZE"></SPAN>
</SPAN>
<P>
<SPAN CLASS="SMALL">this file describes, which <SPAN CLASS="MATH"><IMG
 STYLE="height: 1.68ex; vertical-align: -0.57ex; " SRC="img499.svg"
 ALT="$q$"></SPAN> vectors will be calculated.
Miller indices always refer to the lattice <!-- MATH
 $\vec a^*, \vec b^*, \vec c^*$
 -->
<SPAN CLASS="MATH"><IMG
 STYLE="height: 2.95ex; vertical-align: -0.57ex; " SRC="img337.svg"
 ALT="$\vec a^*,\vec b^*,\vec c^*$"></SPAN>, which
is the reciprocal lattice of <!-- MATH
 $\vec a, \vec b, \vec c$
 -->
<SPAN CLASS="MATH"><IMG
 STYLE="height: 2.95ex; vertical-align: -0.57ex; " SRC="img295.svg"
 ALT="$\vec a,\vec b,\vec c$"></SPAN> as defined by lattice
parameters <SPAN CLASS="MATH"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img350.svg"
 ALT="$a,b,c$"></SPAN> and angles <!-- MATH
 $\alpha,\beta,\gamma$
 -->
<SPAN CLASS="MATH"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img351.svg"
 ALT="$\alpha,\beta,\gamma$"></SPAN> as given in
input file <I CLASS="slanted">mcphas.j</I>.
</SPAN>
<P>
<SPAN CLASS="SMALL">The
program <I CLASS="slanted">mcdisp<A ID="2040"></A></I> then calculates only 
the excitation energies at these reflections and (if measured
energies are given) computes a standard deviation
and prints
this deviation to stdout as &rdquo;sta=3120.31&rdquo; [this can directly
be used by fitting program such as <I CLASS="slanted">simannfit<A ID="2041"></A></I>]. Note that
several experimental energies and intensities may be entered in separate lines. 
<I CLASS="slanted">mcdisp<A ID="2042"></A></I> will check the list and if subsequent lines contain
the same values of h,k and l it will do the calculation for this scattering vector
only one time.
</SPAN>
<P>
<SPAN CLASS="SMALL">The standard deviation is calculated by taking for a set of measured energies (at a 
given q-vector) the squared sum of differences to the nearest
calculated energy. Thus only the calculated energies which are close to a 
measured energy contribute to the standard deviation. 
If an experimental intensity is provided with the set of measured energies, 
then calculated energies will be considered only if they have intensity (magnetic+nuclear)
larger than this experimental intensity (for standard deviation sta_int)
Statistical weighting as given by the user in <I CLASS="slanted">mcdisp.par</I>
for each q-vector is applied. If the weighting is less than zero, the 
inverse squared sum of differences to the nearest
calculated energy is taken (&rdquo;antipeak&rdquo;, this is useful in order to 
tell the program, that there is no peak at this energy).
In addition to the standard deviation &rdquo;sta&rdquo; some other quantitites are calculated and 
may be used in fitting experimental data:
</SPAN>
<P>
<SPAN CLASS="SMALL"></SPAN>
<BR>
<DIV CLASS="displaymath">

<!-- MATH
 \begin{eqnarray}
{\rm sta}                              & =& \sum_i |weight(i)|*[Eexp(i) - nearestEcalc(i)]^{[2*sign(weight(i))]}\\
{\rm sta\_int   }                       & = &\sum_i |weight(i)|*[Eexp(i) - nearestEcalc_{\rm with %%@
Int>Iexp(i)>0.1mb/srf.u.}]^{[2*sign(weight(i))]}\\
{\rm sta\_without\_antipeaks }           & =& \sum_{i, weight(i)>0}  weight(i)*[Eexp(i) - nearestEcalc(i)]^2\\
{\rm sta\_int\_without\_antipeaks }       & =&\sum_{i,weight(i)>0}  weight(i)*[Eexp(i) - nearestEcalc_{\rm with %%@
Int>Iexp(i)>0.1mb/srf.u.}]^2\\
{\rm sta\_without\_weights }              &=& \sum_i [Eexp(i) - nearestEcalc(i)]^{[2*sign(weight(i))]}\\
{\rm sta\_int\_without\_weights}          & =&\sum_i [Eexp(i) - nearestEcalc_{\rm with %%@
Int>Iexp(i)>0.1mb/srf.u.}]^{[2*sign(weight(i))]}\\
{\rm sta\_without\_antipeaks\_weights}    & = &\sum_{i, weight(i)>0}[Eexp(i) - nearestEcalc(i)]^2\\
{\rm sta\_int\_without\_antipeaks\_weights}& =& \sum_{i, weight(i)>0} [Eexp(i) - nearestEcalc_{\rm with %%@
Int>Iexp(i)>0.1mb/srf.u.}]^2\\
\end{eqnarray}
 -->
<TABLE CLASS="equation" >
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 1.66ex; vertical-align: -0.12ex; " SRC="img500.svg"
 ALT="$\displaystyle {\rm sta}$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 5.62ex; vertical-align: -3.09ex; " SRC="img501.svg"
 ALT="$\displaystyle \sum_i \vert weight(i)\vert*[Eexp(i) - nearestEcalc(i)]^{[2*sign(weight(i))]}$"></TD><TD class="rfill">(<SPAN CLASS="arabic">74</SPAN>)</TD></TR>
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 1.78ex; vertical-align: -0.12ex; " SRC="img502.svg"
 ALT="$\displaystyle {\rm sta\_int }$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 5.62ex; vertical-align: -3.09ex; " SRC="img503.svg"
 ALT="$\displaystyle \sum_i \vert weight(i)\vert*[Eexp(i) - nearestEcalc_{\rm with %%@
Int&gt;Iexp(i)&gt;0.1mb/srf.u.}]^{[2*sign(weight(i))]}$"></TD><TD class="rfill">(<SPAN CLASS="arabic">75</SPAN>)</TD></TR>
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img504.svg"
 ALT="$\displaystyle {\rm sta\_without\_antipeaks }$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 6.17ex; vertical-align: -3.64ex; " SRC="img505.svg"
 ALT="$\displaystyle \sum_{i, weight(i)&gt;0} weight(i)*[Eexp(i) - nearestEcalc(i)]^2$"></TD><TD class="rfill">(<SPAN CLASS="arabic">76</SPAN>)</TD></TR>
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img506.svg"
 ALT="$\displaystyle {\rm sta\_int\_without\_antipeaks }$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 6.17ex; vertical-align: -3.64ex; " SRC="img507.svg"
 ALT="$\displaystyle \sum_{i,weight(i)&gt;0} weight(i)*[Eexp(i) - nearestEcalc_{\rm with %%@
Int&gt;Iexp(i)&gt;0.1mb/srf.u.}]^2$"></TD><TD class="rfill">(<SPAN CLASS="arabic">77</SPAN>)</TD></TR>
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img508.svg"
 ALT="$\displaystyle {\rm sta\_without\_weights }$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 5.62ex; vertical-align: -3.09ex; " SRC="img509.svg"
 ALT="$\displaystyle \sum_i [Eexp(i) - nearestEcalc(i)]^{[2*sign(weight(i))]}$"></TD><TD class="rfill">(<SPAN CLASS="arabic">78</SPAN>)</TD></TR>
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img510.svg"
 ALT="$\displaystyle {\rm sta\_int\_without\_weights}$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 5.62ex; vertical-align: -3.09ex; " SRC="img511.svg"
 ALT="$\displaystyle \sum_i [Eexp(i) - nearestEcalc_{\rm with %%@
Int&gt;Iexp(i)&gt;0.1mb/srf.u.}]^{[2*sign(weight(i))]}$"></TD><TD class="rfill">(<SPAN CLASS="arabic">79</SPAN>)</TD></TR>
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img512.svg"
 ALT="$\displaystyle {\rm sta\_without\_antipeaks\_weights}$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 6.17ex; vertical-align: -3.64ex; " SRC="img513.svg"
 ALT="$\displaystyle \sum_{i, weight(i)&gt;0}[Eexp(i) - nearestEcalc(i)]^2$"></TD><TD class="rfill">(<SPAN CLASS="arabic">80</SPAN>)</TD></TR>
<TR><TD class="lfill"></TD><TD style="text-align:RIGHT"><IMG
 STYLE="height: 2.29ex; vertical-align: -0.57ex; " SRC="img514.svg"
 ALT="$\displaystyle {\rm sta\_int\_without\_antipeaks\_weights}$"></TD>
<TD style="text-align:center"><IMG
 STYLE="height: 1.08ex; vertical-align: -0.12ex; " SRC="img99.svg"
 ALT="$\textstyle =$"></TD>
<TD style="text-align:left;"><IMG
 STYLE="height: 6.17ex; vertical-align: -3.64ex; " SRC="img515.svg"
 ALT="$\displaystyle \sum_{i, weight(i)&gt;0} [Eexp(i) - nearestEcalc_{\rm with %%@
Int&gt;Iexp(i)&gt;0.1mb/srf.u.}]^2$"></TD><TD class="rfill">(<SPAN CLASS="arabic">81</SPAN>)</TD></TR>
</TABLE></DIV><SPAN CLASS="SMALL">
</SPAN>
<P>
<SPAN CLASS="SMALL">The output files of program <I CLASS="slanted">McDisp</I> are 
</SPAN>
<P>
<SPAN CLASS="SMALL"></SPAN>
<BLOCKQUOTE><SPAN CLASS="SMALL">[<I CLASS="slanted">mcdisp.trs</I>:] contains all single ion transitions with strengths <SPAN CLASS="MATH"><IMG
 STYLE="height: 1.68ex; vertical-align: -0.57ex; " SRC="img516.svg"
 ALT="$\gamma$"></SPAN> 
and neutron intensities.
[<I CLASS="slanted">mcdisp.qom</I>:] Contains the energies of the modes and scattering cross sections  for each mode 
calculated using the DMD algorithm described in section&nbsp;<A HREF="node168.html#DMDform">M.1</A>
[<I CLASS="slanted">mcdisp.qei</I>] energies and neutron scattering intensities calculated by the DMD algorithm, if 
        the energy of a mode is outside interval  [emin,emax] the value -1 is output for the intensity.
[<I CLASS="slanted">mcdisp.qeX'observable'</I>] energies and absorptive part of the dynamical
        susceptibilities calculated using the DMD algorithm.
[<I CLASS="slanted">mcdisp.qem .qes .qel .qsd .qod .qee .qpe</I>] eigenvectors for different observables (relative phase and amplitudes)
[<I CLASS="slanted">mcdisp.dsigma</I>(only created with option <I CLASS="slanted">-r</I>):] Contains the energy dependence of the scattering cross section
calculated according to section&nbsp;<A HREF="node167.html#formalism">M</A> within the energy range specified by [emin,emax] given in <I CLASS="slanted">mcdisp.par</I>. 
[<I CLASS="slanted">mcdisp.dsigma.tot</I>:] sum of intensities in interval  [emin,emax].  For option <I CLASS="slanted">-r</I> : Sum of intensities calculated in <I CLASS="slanted">mcdisp.dsigma</I>.
</SPAN></BLOCKQUOTE><SPAN CLASS="SMALL">
</SPAN>
<P>
<SPAN CLASS="SMALL">
<BR>
<BR>
<BR>
<EM>Exercises:</EM>
</SPAN>
<UL>
<LI>Type <I CLASS="slanted">mcdisp -max 3</I> to
calculate the dispersion of magnetic excitations for NdCu<SPAN CLASS="MATH"><IMG
 STYLE="height: 1.28ex; vertical-align: -0.46ex; " SRC="img1.svg"
 ALT="$_2$"></SPAN>.
and inspect the results
<I CLASS="slanted">examples/ndcu2b_new/results/mcdisp.qei</I>.
Which  transition has the largest intensity ?
</LI>
</UL><SPAN CLASS="SMALL">
</SPAN>
<P>
<SPAN CLASS="SMALL"></SPAN>
<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node59.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node56.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node57.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html684"
  HREF="node8.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A> 
<A ID="tex2html686"
  HREF="node180.html">
<IMG WIDTH="43" HEIGHT="24" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A
 HREF="node59.html">Viewing the results of</A>
<B> Up:</B> <A
 HREF="node56.html">mcdisp - the Calculation</A>
<B> Previous:</B> <A
 HREF="node57.html">example of input file</A>
 &nbsp; <B>  <A ID="tex2html685"
  HREF="node8.html">Contents</A></B> 
 &nbsp; <B>  <A ID="tex2html687"
  HREF="node180.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
